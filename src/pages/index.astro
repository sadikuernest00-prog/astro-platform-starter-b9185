---
const FORM_ENDPOINT = "https://formspree.io/f/xzznjkvd";
const CEO_NAME = "Robert Amicolsen";
const CEO_EMAIL = "robertamicolsen@gmail.com";
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Amicbridge — Borrow • Lend • Investment Strategy</title>
  <meta
    name="description"
    content="Amicbridge is a connection platform. Send a borrow request, lending request, or investment strategy request. Includes a simple loan agreement template."
  />
</head>

<body>
  <header class="header" id="top">
    <div class="container header-inner">
      <div class="brand">
        <strong>Amicbridge</strong>
        <span class="muted">Connection platform</span>
      </div>

      <nav class="nav" aria-label="Primary navigation">
        <a href="#about">About</a>
        <a href="#request">Request</a>
        <a href="#agreement">Loan agreement</a>
        <a href="#safety">Safety</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="section hero">
      <div class="container">
        <h1>Borrow. Lend. Invest — with clarity.</h1>

        <p class="lead">
          Amicbridge helps serious people and business partners connect. Send one request and we’ll review it for clarity.
        </p>

        <div class="notice">
          <strong>Important:</strong> Amicbridge is a connection platform. We do not provide loans, hold money,
          or guarantee repayment. Agreements are made directly between parties. Always do your own checks.
        </div>

        <div class="actions">
          <a class="btn primary" href="#request">Send a request</a>
          <a class="btn" href="#agreement">Loan agreement template</a>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section class="section" id="about">
      <div class="container">
        <h2>About Amicbridge</h2>
        <p>
          Use one simple form to request a loan, offer lending, or ask for general investment strategy guidance.
          We focus on clear communication and serious requests.
        </p>
      </div>
    </section>

    <!-- REQUEST (ONE BOX) -->
    <section class="section alt" id="request">
      <div class="container">
        <h2>Send a request</h2>
        <p class="muted">
          Choose request type and fill in the important information. Do not include passwords, bank logins,
          or sensitive identity numbers.
        </p>

        <div class="box">
          <form class="form" action={FORM_ENDPOINT} method="POST" id="amic-form">
            <input type="hidden" name="source" value="amicbridge.com" />

            <div class="grid2">
              <label>
                Full name / Company
                <input name="name" id="name" autocomplete="name" required />
              </label>

              <label>
                Email
                <input type="email" name="email" id="email" autocomplete="email" required />
              </label>
            </div>

            <label>
              Request type
              <select name="requestType" id="requestType" required>
                <option value="" selected disabled>Select</option>
                <option value="Borrow request">Borrow request</option>
                <option value="Lending request">Lending request</option>
                <option value="Investment strategy request">Investment strategy request</option>
              </select>
            </label>

            <!-- Borrow fields -->
            <div class="section-fields" id="borrowFields" hidden>
              <div class="grid2">
                <label>
                  Amount needed (NOK)
                  <input name="borrow_amount_nok" id="borrow_amount_nok" inputmode="numeric" placeholder="e.g. 50,000" />
                </label>

                <label>
                  Duration
                  <input name="borrow_duration" id="borrow_duration" placeholder="e.g. 6 months / 12 months" />
                </label>
              </div>

              <div class="grid2">
                <label>
                  Max interest (optional)
                  <input name="borrow_max_interest" id="borrow_max_interest" placeholder="e.g. 8% / negotiable" />
                </label>

                <label>
                  Purpose
                  <input name="borrow_purpose" id="borrow_purpose" placeholder="Personal / Business / Project" />
                </label>
              </div>

              <label>
                Repayment plan (important)
                <textarea
                  name="borrow_repayment_plan"
                  id="borrow_repayment_plan"
                  rows="4"
                  placeholder="How will you repay? Income source, schedule, any collateral (if relevant)."></textarea>
              </label>
            </div>

            <!-- Lend fields -->
            <div class="section-fields" id="lendFields" hidden>
              <div class="grid2">
                <label>
                  Amount available (NOK)
                  <input name="lend_amount_nok" id="lend_amount_nok" inputmode="numeric" placeholder="e.g. 100,000" />
                </label>

                <label>
                  Preferred duration
                  <input name="lend_duration" id="lend_duration" placeholder="e.g. 6–12 months" />
                </label>
              </div>

              <div class="grid2">
                <label>
                  Expected interest (optional)
                  <input name="lend_expected_interest" id="lend_expected_interest" placeholder="e.g. 6–10% / negotiable" />
                </label>

                <label>
                  Focus
                  <select name="lend_focus" id="lend_focus">
                    <option value="">Select (optional)</option>
                    <option value="Personal">Personal loans</option>
                    <option value="Business">Small business</option>
                    <option value="Projects">Projects</option>
                    <option value="Case by case">Case by case</option>
                  </select>
                </label>
              </div>

              <label>
                Conditions (important)
                <textarea
                  name="lend_conditions"
                  id="lend_conditions"
                  rows="4"
                  placeholder="What do you require? Documentation, collateral, repayment schedule, communication expectations."></textarea>
              </label>
            </div>

            <!-- Investment fields -->
            <div class="section-fields" id="investFields" hidden>
              <div class="grid2">
                <label>
                  Monthly amount (approx.)
                  <input name="invest_monthly_amount" id="invest_monthly_amount" placeholder="e.g. 2,000 NOK" />
                </label>

                <label>
                  Timeline
                  <input name="invest_timeline" id="invest_timeline" placeholder="e.g. 5 years / 10 years" />
                </label>
              </div>

              <label>
                Risk comfort
                <select name="invest_risk" id="invest_risk">
                  <option value="">Select (optional)</option>
                  <option value="Low">Low</option>
                  <option value="Moderate">Moderate</option>
                  <option value="High">High</option>
                </select>
              </label>

              <label>
                Current situation (optional)
                <textarea
                  name="invest_situation"
                  id="invest_situation"
                  rows="4"
                  placeholder="Example: savings, income stability, goals (house, retirement, buffer)."></textarea>
              </label>
            </div>

            <!-- Common message -->
            <label>
              Details (important)
              <textarea
                name="message"
                id="message"
                rows="6"
                placeholder="Write clearly. If borrowing: explain why, how you repay. If lending: terms. If investing: goals and constraints."
                required></textarea>
            </label>

            <label class="checkbox">
              <input type="checkbox" name="acknowledge" required />
              <span>
                I understand Amicbridge is a connection platform. It does not provide loans, hold money, or guarantee outcomes.
              </span>
            </label>

            <div class="actions">
              <button class="btn primary" type="submit">Send request</button>
              <button class="btn" type="button" id="generateAgreementBtn">
                Generate loan agreement (template)
              </button>
            </div>

            <p class="fineprint">
              Safety: Never share passwords, bank logins, seed phrases, private keys, or full ID numbers.
            </p>
          </form>
        </div>
      </div>
    </section>

    <!-- LOAN AGREEMENT TEMPLATE -->
    <section class="section" id="agreement">
      <div class="container">
        <h2>Loan agreement template</h2>

        <p class="muted">
          Template for informational purposes only — not legal advice. For serious amounts, consult a lawyer.
          Amicbridge does not verify parties and is not a party to the agreement.
        </p>

        <div class="notice">
          <strong>How to use:</strong> Fill the form above (borrow or lend), click “Generate loan agreement”, review the text,
          and use “Print / Save as PDF”. Adjust terms as needed.
        </div>

        <div class="box">
          <div class="actions">
            <button class="btn primary" type="button" id="printAgreementBtn">Print / Save as PDF</button>
            <button class="btn" type="button" id="clearAgreementBtn">Clear</button>
          </div>

          <textarea
            id="agreementText"
            class="agreement"
            rows="26"
            spellcheck="false"
            placeholder="Your generated agreement will appear here."></textarea>

          <p class="fineprint">
            Tip: Write names and ID details carefully. Do not include sensitive account logins. Consider signing with BankID or a verified signature tool.
          </p>
        </div>
      </div>
    </section>

    <!-- SAFETY -->
    <section class="section alt" id="safety">
      <div class="container">
        <h2>Safety</h2>

        <div class="notice">
          <strong>Be careful:</strong> Verify identity, use written terms, and consider professional advice for large amounts.
          Amicbridge does not verify or guarantee users.
        </div>

        <ul class="plain-list">
          <li>Use written agreements (amount, duration, interest, schedule, late fees).</li>
          <li>Verify identity and ability to repay (documentation, references, collateral if needed).</li>
          <li>Never share sensitive access information (passwords, logins, private keys).</li>
          <li>Keep communication documented and clear.</li>
        </ul>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="section" id="contact">
      <div class="container">
        <h2>Contact</h2>

        <div class="contact-box">
          <strong>{CEO_NAME}</strong>
          <div class="muted">CEO — Amicbridge</div>
          <p>Email: <a href={`mailto:${CEO_EMAIL}`}>{CEO_EMAIL}</a></p>

          <div class="actions">
            <a class="btn primary" href={`mailto:${CEO_EMAIL}?subject=Amicbridge%20Inquiry`}>Email CEO</a>
            <a class="btn" href="#request">Send request</a>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container footer-inner">
        <div>
          <strong>Amicbridge</strong>
          <div class="muted">Connection platform</div>
        </div>

        <div class="muted">
          No custody • No guarantees • Parties agree directly
        </div>

        <div class="muted">
          © {new Date().getFullYear()} Amicbridge
        </div>
      </div>
    </footer>
  </main>

  <!-- JS: show/hide fields + generate agreement -->
  <script>
    (function () {
      const type = document.getElementById("requestType");
      const borrow = document.getElementById("borrowFields");
      const lend = document.getElementById("lendFields");
      const invest = document.getElementById("investFields");

      function update() {
        const v = type.value;
        borrow.hidden = v !== "Borrow request";
        lend.hidden = v !== "Lending request";
        invest.hidden = v !== "Investment strategy request";
      }

      type.addEventListener("change", update);
      update();

      // Agreement generator
      const generateBtn = document.getElementById("generateAgreementBtn");
      const printBtn = document.getElementById("printAgreementBtn");
      const clearBtn = document.getElementById("clearAgreementBtn");
      const agreementText = document.getElementById("agreementText");

      function safe(v) {
        return (v || "").toString().trim();
      }

      function generateAgreement() {
        const requestType = safe(type.value);

        if (requestType !== "Borrow request" && requestType !== "Lending request") {
          agreementText.value =
            "Loan agreement template is intended for Borrow or Lending requests.\n\n" +
            "Select 'Borrow request' or 'Lending request' above, fill the relevant fields, then click Generate again.";
          document.getElementById("agreement").scrollIntoView({ behavior: "smooth" });
          return;
        }

        // Pull form fields
        const name = safe(document.getElementById("name").value);
        const email = safe(document.getElementById("email").value);

        const bAmount = safe(document.getElementById("borrow_amount_nok").value);
        const bDuration = safe(document.getElementById("borrow_duration").value);
        const bMaxInterest = safe(document.getElementById("borrow_max_interest").value);
        const bPurpose = safe(document.getElementById("borrow_purpose").value);
        const bRepay = safe(document.getElementById("borrow_repayment_plan").value);

        const lAmount = safe(document.getElementById("lend_amount_nok").value);
        const lDuration = safe(document.getElementById("lend_duration").value);
        const lInterest = safe(document.getElementById("lend_expected_interest").value);
        const lConditions = safe(document.getElementById("lend_conditions").value);

        // Best-effort values
        const principal = bAmount || lAmount || "[NOK amount]";
        const duration = bDuration || lDuration || "[duration]";
        const interest = bMaxInterest || lInterest || "[interest rate / terms]";
        const purpose = bPurpose || "[purpose]";
        const extra = bRepay || lConditions || "[additional terms]";

        const today = new Date();
        const dateStr = today.toISOString().slice(0, 10);

        agreementText.value =
`LOAN AGREEMENT (TEMPLATE)
Date: ${dateStr}

IMPORTANT NOTICE:
This template is provided for informational purposes only and is not legal advice. Parties should obtain independent legal and financial advice before signing. Amicbridge is not a party to this agreement and provides no guarantees.

1) PARTIES
Lender:
Name/Company: ________________________________
Address: _____________________________________
ID/Org no.: ___________________________________
Email/Phone: _________________________________

Borrower:
Name/Company: ________________________________
Address: _____________________________________
ID/Org no.: ___________________________________
Email/Phone: _________________________________

(Reference request contact: ${name || "[name]"} / ${email || "[email]"})

2) LOAN AMOUNT
Principal amount: NOK ${principal}

3) PURPOSE (optional)
${purpose}

4) INTEREST
Interest: ${interest}
Interest calculation method: _____________________
Interest payment schedule: _______________________

5) TERM AND REPAYMENT
Loan term / duration: ${duration}

Repayment schedule (choose one):
[ ] Monthly installments
[ ] Single payment at maturity
[ ] Other: _____________________________________

Repayment details:
________________________________________________
________________________________________________

6) FEES AND LATE PAYMENT
Late fee / default interest (if any):
________________________________________________

7) PREPAYMENT
Borrower may prepay the loan:
[ ] Yes, without penalty
[ ] Yes, with penalty: _________________________
[ ] No

8) SECURITY / COLLATERAL (optional)
[ ] None
[ ] Collateral description:
________________________________________________
________________________________________________

9) REPRESENTATIONS
Each party confirms:
- They are legally able to enter this agreement.
- They have provided accurate information to the best of their knowledge.

10) DISPUTES AND GOVERNING LAW
Governing law (choose):
[ ] Norway
[ ] Other: _____________________________________

Dispute resolution:
[ ] Negotiation in good faith
[ ] Mediation
[ ] Court jurisdiction: __________________________

11) NOTICES
Notices must be sent to the addresses/emails listed in Section 1.

12) ENTIRE AGREEMENT
This document represents the entire agreement between the parties regarding this loan. Any changes must be in writing and signed.

SIGNATURES

LENDER
Name: ________________________________
Signature: ___________________________
Date: ________________________________

BORROWER
Name: ________________________________
Signature: ___________________________
Date: ________________________________

NOTES / ADDITIONAL TERMS (optional)
${extra || ""}`.trim();

        document.getElementById("agreement").scrollIntoView({ behavior: "smooth" });
      }

      generateBtn.addEventListener("click", generateAgreement);

      printBtn.addEventListener("click", function () {
        const text = agreementText.value.trim();
        if (!text) return;

        const w = window.open("", "_blank");
        w.document.open();
        w.document.write(`
          <!doctype html>
          <html>
          <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <title>Loan Agreement</title>
            <style>
              body{font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; padding: 24px; line-height: 1.5;}
              pre{white-space: pre-wrap; word-wrap: break-word; font-size: 14px;}
            </style>
          </head>
          <body>
            <pre>${text.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}</pre>
            <script>window.print();<\/script>
          </body>
          </html>
        `);
        w.document.close();
      });

      clearBtn.addEventListener("click", function () {
        agreementText.value = "";
      });
    })();
  </script>

  <style>
    :root{
      --text:#111827;
      --muted:#4b5563;
      --border:#e5e7eb;
      --soft:#f9fafb;
      --radius:8px;
    }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:#fff;
      color:var(--text);
      line-height:1.55;
    }
    .container{max-width:900px;margin:auto;padding:0 1rem}
    a{color:inherit}
    .muted{color:var(--muted)}

    .header{
      border-bottom:1px solid var(--border);
      background:#fff;
      position:sticky;
      top:0;
      z-index:10;
    }
    .header-inner{display:flex;justify-content:space-between;align-items:baseline;padding:1rem 0;gap:1rem}
    .brand{display:flex;flex-direction:column}
    .nav a{margin-left:1rem;color:var(--muted);text-decoration:none;font-weight:600}
    .nav a:hover{text-decoration:underline;color:var(--text)}

    .section{padding:2.2rem 0}
    .section.alt{background:var(--soft);border-top:1px solid var(--border);border-bottom:1px solid var(--border)}
    .hero h1{font-size:2rem;margin:0 0 .6rem}
    h2{font-size:1.3rem;margin:0 0 .6rem}
    .lead{color:var(--muted);font-size:1.05rem;max-width:80ch}

    .notice{
      border:1px solid var(--border);
      background:#fff;
      padding:.9rem;
      border-radius:var(--radius);
      margin-top:1rem;
      color:var(--muted);
    }

    .actions{margin-top:1rem;display:flex;gap:.7rem;flex-wrap:wrap}
    .btn{
      padding:.6rem 1rem;
      border-radius:var(--radius);
      border:1px solid var(--border);
      background:#fff;
      text-decoration:none;
      font-weight:600;
      display:inline-block;
      cursor:pointer;
    }
    .btn.primary{background:#111827;color:#fff;border-color:#111827}

    .plain-list{margin:1rem 0 0;padding-left:1.2rem;color:var(--muted)}
    .plain-list li{margin:.35rem 0}

    .box{
      border:1px solid var(--border);
      background:#fff;
      border-radius:var(--radius);
      padding:1rem;
      margin-top:1rem;
    }

    .form label{display:block;margin-top:.85rem;font-weight:600}
    input,textarea,select{
      width:100%;
      padding:.6rem;
      border-radius:var(--radius);
      border:1px solid var(--border);
      margin-top:.3rem;
      font:inherit;
      background:#fff;
    }
    textarea{resize:vertical}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:1rem}
    .checkbox{display:flex;gap:.5rem;margin-top:1rem;color:var(--muted)}
    .checkbox input{width:auto;margin-top:.25rem}
    .fineprint{color:var(--muted);font-size:.92rem;margin:.7rem 0 0}
    .section-fields{margin-top:.6rem;padding-top:.6rem;border-top:1px solid var(--border)}

    .agreement{
      margin-top: .9rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.45;
      min-height: 420px;
    }

    .contact-box{
      border:1px solid var(--border);
      background:#fff;
      padding:1rem;
      border-radius:var(--radius);
      margin-top:1rem;
    }

    .footer{border-top:1px solid var(--border);padding:1.4rem 0}
    .footer-inner{display:flex;justify-content:space-between;flex-wrap:wrap;gap:1rem;color:var(--muted)}

    @media(max-width:720px){
      .nav{display:none}
      .grid2{grid-template-columns:1fr}
    }
  </style>
</body>
</html>
